"use strict";(self.webpackChunk_liquid_ui_storybook=self.webpackChunk_liquid_ui_storybook||[]).push([[281],{"../../packages/core/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{JE:()=>LiquidGlassEngine,nF:()=>throttle});const liquidTokens={colors:{light:{systemBlue:"rgb(0, 122, 255)",systemGreen:"rgb(52, 199, 89)",systemIndigo:"rgb(88, 86, 214)",systemOrange:"rgb(255, 149, 0)",systemPink:"rgb(255, 45, 85)",systemPurple:"rgb(175, 82, 222)",systemRed:"rgb(255, 59, 48)",systemTeal:"rgb(90, 200, 250)",systemYellow:"rgb(255, 204, 0)",systemGray:"rgb(142, 142, 147)",systemGray2:"rgb(174, 174, 178)",systemGray3:"rgb(199, 199, 204)",systemGray4:"rgb(209, 209, 214)",systemGray5:"rgb(229, 229, 234)",systemGray6:"rgb(242, 242, 247)",label:"rgba(0, 0, 0, 1)",secondaryLabel:"rgba(60, 60, 67, 0.6)",tertiaryLabel:"rgba(60, 60, 67, 0.3)",quaternaryLabel:"rgba(60, 60, 67, 0.18)",glassMaterial:"rgba(255, 255, 255, 0.25)",glassBorder:"rgba(255, 255, 255, 0.3)",glassHighlight:"rgba(255, 255, 255, 0.5)"},dark:{systemBlue:"rgb(10, 132, 255)",systemGreen:"rgb(48, 209, 88)",systemIndigo:"rgb(94, 92, 230)",systemOrange:"rgb(255, 159, 10)",systemPink:"rgb(255, 55, 95)",systemPurple:"rgb(191, 90, 242)",systemRed:"rgb(255, 69, 58)",systemTeal:"rgb(100, 210, 255)",systemYellow:"rgb(255, 214, 10)",systemGray:"rgb(142, 142, 147)",systemGray2:"rgb(99, 99, 102)",systemGray3:"rgb(72, 72, 74)",systemGray4:"rgb(58, 58, 60)",systemGray5:"rgb(44, 44, 46)",systemGray6:"rgb(28, 28, 30)",label:"rgba(255, 255, 255, 1)",secondaryLabel:"rgba(235, 235, 245, 0.6)",tertiaryLabel:"rgba(235, 235, 245, 0.3)",quaternaryLabel:"rgba(235, 235, 245, 0.18)",glassMaterial:"rgba(0, 0, 0, 0.3)",glassBorder:"rgba(255, 255, 255, 0.1)",glassHighlight:"rgba(255, 255, 255, 0.2)"}},glass:{frosted:{blur:"12px",background:"rgba(255, 255, 255, 0.25)",border:"1px solid rgba(255, 255, 255, 0.3)",saturation:"180%",brightness:"110%"},strong:{blur:"20px",background:"rgba(255, 255, 255, 0.15)",border:"1px solid rgba(255, 255, 255, 0.4)",saturation:"200%",brightness:"120%"},clear:{blur:"8px",background:"rgba(255, 255, 255, 0.08)",border:"1px solid rgba(255, 255, 255, 0.15)",saturation:"150%"},tinted:{blur:"12px",background:"rgba(0, 122, 255, 0.12)",border:"1px solid rgba(0, 122, 255, 0.25)",saturation:"180%"},dark:{blur:"12px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.1)",saturation:"120%",brightness:"80%"}},typography:{fontFamily:{system:'-apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", system-ui, sans-serif'},fontSize:{caption2:"11px",caption1:"12px",footnote:"13px",subheadline:"15px",callout:"16px",body:"17px",headline:"17px",title3:"20px",title2:"22px",title1:"28px",largeTitle:"34px"},fontWeight:{ultraLight:100,thin:200,light:300,regular:400,medium:500,semibold:600,bold:700,heavy:800,black:900},lineHeight:{tight:1.2,normal:1.4,relaxed:1.6}},spacing:{xs:"4px",sm:"8px",md:"16px",lg:"20px",xl:"24px",xxl:"32px",buttonPadding:{sm:"8px 16px",md:"12px 20px",lg:"16px 24px"},cardPadding:{sm:"12px",md:"16px",lg:"20px"}},physics:{spring:{tension:300,friction:30,mass:1},easing:{standard:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",deceleration:"cubic-bezier(0.23, 1, 0.32, 1)",acceleration:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",sharp:"cubic-bezier(0.4, 0, 0.2, 1)"},duration:{fast:"0.15s",normal:"0.25s",slow:"0.35s",springy:"0.6s"}},accessibility:{contrast:{minimum:4.5,enhanced:7},focusIndicator:{width:"2px",color:"rgb(0, 122, 255)",offset:"2px",borderRadius:"inherit",boxShadow:"0 0 0 2px rgba(0, 122, 255, 0.5), 0 0 0 4px rgba(0, 122, 255, 0.2)"},reducedMotion:{respectPreference:!0,fallbackDuration:"0.01s",essentialMotion:["focus-indicator","loading-spinner"]}},layers:{background:{zIndex:1,blur:"20px",opacity:.1},content:{zIndex:10,blur:"12px",opacity:.25},interactive:{zIndex:20,blur:"8px",opacity:.35,scale:"1.02"},overlay:{zIndex:50,blur:"15px",opacity:.4},modal:{zIndex:100,blur:"25px",opacity:.5}},performance:{bundle:{core:"15kb",react:"35kb",total:"50kb"},runtime:{renderTime:16,memoryOverhead:10485760,firstPaint:100}}};class LiquidGlassEngine{static instance;deviceCapabilities;constructor(){this.deviceCapabilities=this.detectDeviceCapabilities()}static getInstance(){return LiquidGlassEngine.instance||(LiquidGlassEngine.instance=new LiquidGlassEngine),LiquidGlassEngine.instance}calculateRefraction(mousePosition,elementBounds){const centerX=elementBounds.x+elementBounds.width/2,centerY=elementBounds.y+elementBounds.height/2,deltaX=mousePosition.x-centerX,deltaY=mousePosition.y-centerY,distance=Math.sqrt(deltaX*deltaX+deltaY*deltaY),maxDistance=Math.sqrt((elementBounds.width/2)**2+(elementBounds.height/2)**2),normalizedDistance=Math.min(distance/maxDistance,1);return 1-Math.pow(normalizedDistance,2)}generateGlassCSS(config){const{glass}=liquidTokens,blurValue=this.getBlurValue(config),backgroundValue=this.getBackgroundValue(config),borderValue=this.getBorderValue(config),styles={backdropFilter:`blur(${blurValue})`,background:backgroundValue};return borderValue&&(styles.border=borderValue),this.deviceCapabilities.supportsBackdropFilter||(styles.background=this.getFallbackBackground(config)),styles}getAdaptiveBackground(config,backgroundLuminance){const{glass}=liquidTokens,glassSpec=glass[config.variant]||glass.frosted,luminanceMultiplier=backgroundLuminance>.5?.8:1.2,adaptiveOpacity=this.extractOpacityFromBackground(glassSpec.background)*luminanceMultiplier;return this.adjustOpacity(glassSpec.background,adaptiveOpacity)}detectDeviceCapabilities(){if("undefined"==typeof window)return{supportsBackdropFilter:!0,performanceLevel:"medium",reducedMotion:!1};const testElement=document.createElement("div");testElement.style.backdropFilter="blur(1px)";const supportsBackdropFilter=""!==testElement.style.backdropFilter,reducedMotion=window.matchMedia("(prefers-reduced-motion: reduce)").matches;return{supportsBackdropFilter,performanceLevel:this.detectPerformanceLevel(),reducedMotion}}detectPerformanceLevel(){if("undefined"==typeof navigator)return"medium";const deviceMemory=navigator.deviceMemory;if(deviceMemory){if(deviceMemory<=2)return"low";if(deviceMemory>=8)return"high"}const connection=navigator.connection;if(connection){if("2g"===connection.effectiveType||"slow-2g"===connection.effectiveType)return"low";if("4g"===connection.effectiveType)return"high"}return"medium"}getBlurValue(config){const{glass}=liquidTokens,glassSpec=glass[config.variant]||glass.frosted;return"low"===this.deviceCapabilities.performanceLevel?"5px":glassSpec.blur}getBackgroundValue(config){const{glass}=liquidTokens;return(glass[config.variant]||glass.frosted).background}getBorderValue(config){const{glass}=liquidTokens;return(glass[config.variant]||glass.frosted).border}getShadowValue(config){if("low"!==this.deviceCapabilities.performanceLevel)return"0 8px 32px rgba(0, 0, 0, 0.12)"}getFallbackBackground(config){const{glass}=liquidTokens,glassSpec=glass[config.variant]||glass.frosted,baseOpacity=this.extractOpacityFromBackground(glassSpec.background),fallbackOpacity=Math.min(1.5*baseOpacity,.95);switch(config.variant){case"clear":default:return`rgba(255, 255, 255, ${fallbackOpacity})`;case"frosted":return`rgba(248, 250, 252, ${fallbackOpacity})`;case"tinted":return`rgba(0, 122, 255, ${fallbackOpacity})`;case"dark":return`rgba(0, 0, 0, ${fallbackOpacity})`}}adjustOpacity(colorString,newOpacity){if(!colorString)return`rgba(255, 255, 255, ${newOpacity})`;const rgbaMatch=colorString.match(/rgba?\(([^)]+)\)/);if(!rgbaMatch)return colorString;const values=rgbaMatch[1].split(",").map(v=>v.trim());return values.length>=3?`rgba(${values[0]}, ${values[1]}, ${values[2]}, ${newOpacity})`:colorString}extractOpacityFromBackground(backgroundString){const rgbaMatch=backgroundString.match(/rgba?\(([^)]+)\)/);if(!rgbaMatch)return.25;const values=rgbaMatch[1].split(",").map(v=>v.trim());return values.length>=4&&parseFloat(values[3])||.25}}function throttle(func,limit){let inThrottle;return(...args)=>{inThrottle||(func(...args),inThrottle=!0,setTimeout(()=>inThrottle=!1,limit))}}},"../../packages/react/src/hooks/useInteractiveGlass.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>useInteractiveGlass});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_liquid_ui_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../packages/core/src/index.ts");function useInteractiveGlass({elementRef,enabled=!0,onHover,throttleMs=16}){const engine=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(_liquid_ui_core__WEBPACK_IMPORTED_MODULE_1__.JE.getInstance()),isHoveredRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!1),throttledMouseMove=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((0,_liquid_ui_core__WEBPACK_IMPORTED_MODULE_1__.nF)(mousePosition=>{if(!enabled||!elementRef.current)return;const element=elementRef.current,bounds=element.getBoundingClientRect(),refraction=engine.current.calculateRefraction(mousePosition,{x:bounds.left,y:bounds.top,width:bounds.width,height:bounds.height}),transformX=(mousePosition.x-bounds.left-bounds.width/2)/bounds.width*10,transformY=(mousePosition.y-bounds.top-bounds.height/2)/bounds.height*10;element.style.transform=`perspective(1000px) rotateX(${-transformY*refraction}deg) rotateY(${transformX*refraction}deg) translateZ(${5*refraction}px)`},throttleMs),[enabled,elementRef,throttleMs]);return{handleMouseEnter:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{enabled&&(isHoveredRef.current=!0,onHover?.(!0),elementRef.current&&(elementRef.current.style.transition="transform 0.2s cubic-bezier(0.23, 1, 0.32, 1)"))},[enabled,onHover,elementRef]),handleMouseLeave:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{enabled&&(isHoveredRef.current=!1,onHover?.(!1),elementRef.current&&(elementRef.current.style.transform="perspective(1000px) rotateX(0deg) rotateY(0deg) translateZ(0px)",setTimeout(()=>{elementRef.current&&!isHoveredRef.current&&(elementRef.current.style.transition="")},200)))},[enabled,onHover,elementRef]),handleMouseMove:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(e=>{if(!enabled)return;const mousePosition={x:e.clientX,y:e.clientY};throttledMouseMove(mousePosition)},[enabled,throttledMouseMove])}}},"../../packages/react/src/hooks/useLiquidGlass.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>useLiquidGlass});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_liquid_ui_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../packages/core/src/index.ts");function useLiquidGlass(config){const[isClient,setIsClient]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),engine=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>_liquid_ui_core__WEBPACK_IMPORTED_MODULE_1__.JE.getInstance(),[]);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{setIsClient(!0)},[]);return{glassStyles:(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{const serverSafeConfig=isClient?config:{...config,interactive:!1};return engine.generateGlassCSS(serverSafeConfig)},[engine,config,isClient]),glassClasses:(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{const classes={base:"backdrop-filter",blur:"",background:"",border:"border border-white/10"};switch(config.intensity){case"light":classes.blur="backdrop-blur-sm";break;case"regular":classes.blur="backdrop-blur-md";break;case"strong":classes.blur="backdrop-blur-lg"}switch(config.variant){case"frosted":classes.background="bg-white/25";break;case"clear":classes.background="bg-white/10";break;case"tinted":classes.background="bg-blue-500/20"}return classes},[config])}}}}]);